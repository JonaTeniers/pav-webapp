<!DOCTYPE html>
<html lang="nl">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Thema 9 ‚Äì Unit 5: De Dossinkazerne</title>
  <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Nunito:wght@600;800&display=swap">
  <style>
    body { margin:0; font-family:'Nunito',sans-serif; background:#f5f3ff; color:#1f2937; }
    header { background:#7c3aed; color:#fff; text-align:center; padding:1.2rem; }
    main { width:min(960px,95%); margin:1.2rem auto 2rem; }
    .card { background:#fff; border-radius:14px; box-shadow:0 6px 16px rgba(0,0,0,.08); padding:1.1rem; margin-bottom:1rem; }
    .fragment { background:#faf5ff; border-left:4px solid #7c3aed; padding:0.8rem; border-radius:8px; }
    .historiek-figure { margin:1rem 0; }
    .historiek-figure img { width:100%; max-width:380px; border-radius:10px; display:block; }
    .historiek-figure figcaption { margin-top:.45rem; color:#4b5563; font-size:.9rem; }
    .helper { color:#4b5563; font-size:.95rem; }
    .question-box { background:#fff; border-radius:14px; box-shadow:0 6px 16px rgba(0,0,0,.08); padding:1.1rem; }
    label { display:block; margin:.5rem 0; }
    button { border:none; background:#6d28d9; color:#fff; border-radius:8px; padding:.6rem 1rem; font-weight:700; cursor:pointer; }
    button:hover { background:#5b21b6; }
    .feedback { margin-top:.75rem; font-weight:700; }
    .success { color:#047857; }
    .error { color:#b91c1c; }
    .hidden { display:none; }
    .text-input, .select-input, textarea { width:100%; border:1px solid #c4b5fd; border-radius:8px; padding:.55rem; font-family:inherit; }
    textarea { min-height:95px; margin-top:.45rem; }
    .nav-buttons { display:flex; gap:.6rem; flex-wrap:wrap; margin-top:1rem; }
  </style>
</head>
<body>
  <header>
    <h1>üèõÔ∏è Thema 9 ‚Äì Unit 5</h1>
    <p>De Dossinkazerne</p>
  </header>
  <main>
    <section class="card">
      <h2>Bron en leesopdracht</h2>
      <p>Open de bron van de Canon van Vlaanderen en lees aandachtig.</p>
      <p><a href="https://www.canonvanvlaanderen.be/events/de-dossinkazerne/" target="_blank" rel="noopener noreferrer">üîó Ga naar de bron: De Dossinkazerne</a></p>
      <div class="fragment">
        <strong>Tekstfragment (samengevat):</strong>
        <p>Tijdens de nazi-bezetting werd de Dossinkazerne in Mechelen gebruikt als verzamelplaats vanwaar Joden en Roma werden gedeporteerd. Dit toont hoe een overheid en samenleving kunnen ontsporen wanneer mensen worden ontmenselijkt. In het verhaal van Vlaanderen is dit een moreel keerpunt: herinneren is nodig om waakzaam te blijven voor uitsluiting en racisme.</p>
      </div>
      <figure class="historiek-figure">
        <img src="https://kazernedossin.eu/wp-content/uploads/2021/11/Geschiedenis_1.jpg" alt="Binnenplaats van de Dossinkazerne tijdens WOII" loading="lazy">
        <figcaption>
          Bron afbeelding: Kazerne Dossin, <a href="https://kazernedossin.eu/wat-doen-we/historiek/" target="_blank" rel="noopener noreferrer">Historiek</a>.
        </figcaption>
      </figure>
      <p class="helper">Koppeling met de reeks: bekijk op VRT MAX <em>Het verhaal van Vlaanderen</em> en zoek het deel dat inhoudelijk aansluit.</p>
      <p><a href="https://www.vrt.be/vrtmax/a-z/het-verhaal-van-vlaanderen/" target="_blank" rel="noopener noreferrer">üé¨ VRT MAX ‚Äì Het verhaal van Vlaanderen</a></p>
    </section>

    <section class="question-box" id="quizBox">
      <h2 id="qCount">Vraag 1 van 8</h2>
      <p class="helper" id="qType"></p>
      <div id="questionText"></div>
      <form id="answerForm"></form>
      <button type="button" onclick="checkAnswer()">Controleer</button>
      <div class="feedback" id="feedback"></div>
      <div class="nav-buttons">
        <button id="nextBtn" class="hidden" type="button" onclick="nextQuestion()">Volgende vraag ‚Üí</button>
      </div>
    </section>

    <section class="card hidden" id="reflectieBox">
      <h2>üß† Reflectie: diep begrip</h2>
      <p><strong>Begripsvraag:</strong> Waarom is herinneringseducatie noodzakelijk voor een democratische samenleving? Geef 2 redenen.</p>
      <textarea id="gevoelInput" placeholder="Schrijf je antwoord in volledige zinnen..."></textarea>
      <p><strong>Verdiepingsvraag:</strong> Verdiepingsopdracht: schrijf 4 zinnen waarin je het verschil uitlegt tussen ‚Äúkennen van feiten‚Äù en ‚Äúhistorische verantwoordelijkheid opnemen‚Äù.</p>
      <textarea id="verdiepingInput" placeholder="Werk je verdiepingsopdracht hier uit..."></textarea>
      <button type="button" onclick="bewaarReflectie()">Bewaar reflectie</button>
      <p class="helper" id="reflectieFeedback"></p>
    </section>

    <section class="question-box hidden" id="endScreen">
      <h2>üéâ Unit voltooid!</h2>
      <p>Je behaalde <span id="xpScore">0</span> XP.</p>
      <p>Top! Je hebt feiten, verbanden √©n reflectie verwerkt in jouw deel van <strong>het verhaal van Vlaanderen</strong>.</p>
      <div class="nav-buttons">
        <a href="hoofdthema3.html"><button type="button">‚Üê Terug naar thema</button></a>
        <a href="thema9unit6.html"><button type="button">‚Üí Volgende unit</button></a>
      </div>
    </section>
  </main>

    <script src="./firebase.js"></script>
  <script src="./pavo-xp-sync.js"></script>
<script>
    const questions = [{"type": "mc", "typeLabel": "Meerkeuze", "question": "Wat was de rol van de Dossinkazerne in WOII?", "options": ["Verzamel- en deportatieplaats onder nazi-bezetting", "Schuilplaats voor vervolgde groepen", "Cultureel centrum zonder oorlogsfunctie"], "correctIndex": 0}, {"type": "open", "typeLabel": "Open vraag", "question": "Noem 1 vervolgde groep die via deze plek gedeporteerd werd.", "accepted": ["joden", "joodse mensen", "roma"]}, {"type": "mc", "typeLabel": "Meerkeuze", "question": "Welke waarschuwing zit in dit verhaal?", "options": ["Uitsluiting kan escaleren als rechten niet beschermd worden", "Geschiedenis herhaalt zich nooit", "Mensenrechten zijn alleen belangrijk in oorlog"], "correctIndex": 0}, {"type": "drag", "typeLabel": "Selectie", "question": "Kies de beste maatschappelijke les.", "options": ["Herinneren helpt discriminatie en ontmenselijking herkennen", "Herinneren houdt haat levend en moet vermeden worden", "Verleden heeft geen invloed op keuzes vandaag"], "correctValue": "Herinneren helpt discriminatie en ontmenselijking herkennen"}, {"type": "open", "typeLabel": "Open vraag", "question": "Noem 1 waarde die je centraal vindt bij dit onderwerp.", "accepted": ["mensenrechten", "respect", "waardigheid", "verdraagzaamheid", "solidariteit"]}, {"type": "mc", "typeLabel": "Meerkeuze", "question": "Waarom is dit deel van het verhaal van Vlaanderen zo belangrijk?", "options": ["Omdat het confronteert met de gevolgen van haat en uitsluiting", "Omdat het alleen over √©√©n gebouw gaat", "Omdat het geen link heeft met burgerschap"], "correctIndex": 0}, {"type": "drag", "typeLabel": "Selectie", "question": "Welke verdiepende vraag is het meest historisch relevant?", "options": ["Welke mechanismen maakten vervolging maatschappelijk mogelijk?", "Welke dag was het koudst in Mechelen?", "Hoe groot was elke kamer exact?"], "correctValue": "Welke mechanismen maakten vervolging maatschappelijk mogelijk?"}, {"type": "open", "typeLabel": "Open vraag", "question": "Geef 2 kernwoorden die deze unit samenvatten.", "accepted": ["herinnering", "mensenrechten", "uitsluiting", "holocaust", "waakzaamheid"]}];
    let currentQuestion = 0;
    let score = 0;

    function renderOptions(options, name) {
      return options.map((opt, index) => (`<label><input type="radio" name="${name}" value="${index}"> ${opt}</label>`)).join('');
    }

    function loadQuestion() {
      const q = questions[currentQuestion];
      document.getElementById('qCount').innerText = `Vraag ${currentQuestion + 1} van ${questions.length}`;
      document.getElementById('qType').innerText = q.typeLabel;
      document.getElementById('questionText').innerText = q.question;
      const form = document.getElementById('answerForm');
      form.innerHTML = '';
      if (q.type === 'mc') {
        form.innerHTML = renderOptions(q.options, 'answer');
      } else if (q.type === 'open') {
        form.innerHTML = `<input class="text-input" type="text" name="answer" placeholder="Typ je antwoord...">`;
      } else if (q.type === 'drag') {
        const options = ['Kies...', ...q.options];
        form.innerHTML = `<select class="select-input" name="answer">${options.map((opt) => `<option value="${opt}">${opt}</option>`).join('')}</select>`;
      }
      const feedback = document.getElementById('feedback');
      feedback.innerText = '';
      feedback.className = 'feedback';
      document.getElementById('nextBtn').classList.add('hidden');
    }

    function normalize(value) { return value.trim().toLowerCase(); }

    function checkAnswer() {
      const q = questions[currentQuestion];
      let isCorrect = false;

      if (q.type === 'mc') {
        const selected = document.querySelector('input[name="answer"]:checked');
        if (!selected) return;
        isCorrect = Number(selected.value) === q.correctIndex;
      } else if (q.type === 'open') {
        const input = document.querySelector('input[name="answer"]');
        if (!input || !input.value.trim()) return;
        const normalized = normalize(input.value);
        isCorrect = q.accepted.some((answer) => normalized.includes(normalize(answer)) || normalize(answer).includes(normalized));
      } else if (q.type === 'drag') {
        const selected = document.querySelector('select[name="answer"]');
        if (!selected || selected.value === 'Kies...') return;
        isCorrect = normalize(selected.value) === normalize(q.correctValue);
      }

      const feedback = document.getElementById('feedback');
      if (isCorrect) {
        score += 3;
        feedback.innerText = '‚úÖ Juist! +3 XP';
        feedback.classList.add('success');
      } else {
        feedback.innerText = '‚ùå Nog niet juist. Lees opnieuw en zoek oorzaak-gevolg/nuance.';
        feedback.classList.add('error');
      }
      document.getElementById('nextBtn').classList.remove('hidden');
    }

    function nextQuestion() {
      currentQuestion++;
      if (currentQuestion < questions.length) {
        loadQuestion();
      } else {
        localStorage.setItem('thema9unit5', score);
        if (window.pavoSyncScore) window.pavoSyncScore('thema9unit5', score);
        document.getElementById('quizBox').classList.add('hidden');
        document.getElementById('reflectieBox').classList.remove('hidden');
        document.getElementById('endScreen').classList.remove('hidden');
        document.getElementById('xpScore').innerText = score;
      }
    }

    function bewaarReflectie() {
      const begrip = document.getElementById('gevoelInput').value.trim();
      const verdieping = document.getElementById('verdiepingInput').value.trim();
      if (!begrip && !verdieping) return;
      const payload = JSON.stringify({ begrip, verdieping });
      localStorage.setItem('thema9unit5_reflectie', payload);
        if (window.pavoSyncScore) window.pavoSyncScore('thema9unit5_reflectie', payload);
      document.getElementById('reflectieFeedback').innerText = '‚úÖ Reflectie en verdieping bewaard.';
    }

    window.onload = loadQuestion;
  </script>
  <script src="./unit-navigation.js"></script>
</body>
</html>
