<!DOCTYPE html>
<html lang="nl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Thema 1 ‚Äì Unit 3: Veranderingen in het landschap</title>

<style>
body {
  font-family: 'Segoe UI', sans-serif;
  background: #eef3fb;
  padding: 2rem;
}
h1 { text-align: center; color: #1a237e; }

.unit {
  max-width: 1100px;
  margin: auto;
}

.task {
  background: white;
  padding: 2rem;
  margin-bottom: 2.5rem;
  border-radius: 14px;
  box-shadow: 0 4px 12px rgba(0,0,0,0.1);
}

.hidden { display: none; }

.drag-strip, .image-strip {
  display: grid;
  grid-template-columns: repeat(4, 1fr);
  gap: 1rem;
  margin: 1rem 0;
}

.drag-card {
  background: #e8eaf6;
  border-radius: 10px;
  padding: 0.5rem;
  cursor: grab;
}

.drag-card img, .image-strip img {
  width: 100%;
  height: 150px;
  object-fit: cover;
  border-radius: 8px;
}

.drop-grid {
  display: grid;
  grid-template-columns: repeat(4, 1fr);
  gap: 1rem;
}

.drop-zone {
  min-height: 140px;
  border: 2px dashed #1a237e;
  border-radius: 10px;
  padding: 0.5rem;
  text-align: center;
  font-weight: bold;
}

textarea, input[type="text"] {
  width: 100%;
  padding: 0.6rem;
  margin-top: 0.6rem;
}

button {
  margin-top: 1rem;
  padding: 0.6rem 1.4rem;
  background: #1a237e;
  color: white;
  border: none;
  border-radius: 8px;
  cursor: pointer;
}

.feedback {
  margin-top: 1rem;
  font-weight: bold;
}

.success { color: #2e7d32; }
.error { color: #c62828; }

.bron {
  font-size: 0.75rem;
  color: #555;
}
</style>
</head>

<body>

<h1>üåç Thema 1 ‚Äì Unit 3: Veranderingen in het landschap</h1>

<div class="unit">

<!-- OPDRACHT 1 -->
<div class="task" id="task1">
<h2>Opdracht 1 ‚Äì Zet de beelden in de juiste volgorde</h2>

<div class="drag-strip">
  <div class="drag-card" draggable="true"><img src="img/images/basel_2006.jpg"></div>
  <div class="drag-card" draggable="true"><img src="img/images/basel_2015.jpg"></div>
  <div class="drag-card" draggable="true"><img src="img/images/basel_2017.jpg"></div>
  <div class="drag-card" draggable="true"><img src="img/images/basel_2024.jpg"></div>
</div>

<div class="drop-grid">
  <div class="drop-zone">1</div>
  <div class="drop-zone">2</div>
  <div class="drop-zone">3</div>
  <div class="drop-zone">4</div>
</div>

<button onclick="checkTask1()">Controleer</button>
<div class="feedback" id="fb1"></div>
</div>

<!-- OPDRACHT 2 -->
<div class="task hidden" id="task2">
<h2>Opdracht 2 ‚Äì Wat verandert?</h2>

<div class="image-strip">
  <img src="img/images/basel_2006.jpg">
  <img src="img/images/basel_2015.jpg">
  <img src="img/images/basel_2017.jpg">
  <img src="img/images/basel_2024.jpg">
</div>

<textarea id="t2"></textarea>
<button onclick="checkText('t2','task2','task3',3)">Controleer</button>
<div class="feedback"></div>
</div>

<!-- OPDRACHT 3 -->
<div class="task hidden" id="task3">
<h2>Opdracht 3 ‚Äì Natuurlijk of menselijk?</h2>

<table>
<tr><td>Rivier</td><td><input type="radio" name="q1"> natuur <input type="radio" name="q1"> mens</td></tr>
<tr><td>Spoorlijnen</td><td><input type="radio" name="q2"> natuur <input type="radio" name="q2"> mens</td></tr>
<tr><td>Sporthal</td><td><input type="radio" name="q3"> natuur <input type="radio" name="q3"> mens</td></tr>
<tr><td>Parken</td><td><input type="radio" name="q4"> natuur <input type="radio" name="q4"> mens</td></tr>
<tr><td>Wegen</td><td><input type="radio" name="q5"> natuur <input type="radio" name="q5"> mens</td></tr>
</table>

<button onclick="unlock('task3','task4',3)">Bevestig</button>
</div>

<!-- OPDRACHT 4 -->
<div class="task hidden" id="task4">
<h2>Opdracht 4 ‚Äì Atlasopdracht</h2>

<img src="img/images/st-jakobshalle-aussenansicht.jpg" style="max-width:400px;">
<div class="bron">
<a href="https://www.basel.com/en/attractions/st.-jakobshalle-basel-2e0e67c53f" target="_blank">
Bron: basel.com
</a>
</div>

<input id="a1" type="text" placeholder="Stad">
<input id="a2" type="text" placeholder="Land">
<input id="a3" type="text" placeholder="Buurland 1">
<input id="a4" type="text" placeholder="Buurland 2">
<input id="a5" type="text" placeholder="Rivier">

<button onclick="checkAtlas()">Controleer</button>
<div class="feedback" id="fb4"></div>
</div>

<!-- OPDRACHT 5 -->
<div class="task hidden" id="task5">
<h2>Opdracht 5 ‚Äì Kaart en luchtfoto vergelijken</h2>
<p>
Vergelijk de <strong>kaart</strong> met de <strong>luchtfoto</strong>.
Wat kan je <strong>beter of alleen</strong> zien op de kaart,
en wat is moeilijker te zien op de luchtfoto?
</p>

<div class="image-strip">
  <img src="img/images/kaartBASEL.png" alt="Kaart van het gebied">
  <img src="img/images/basel_2024.jpg" alt="Luchtfoto van het gebied">
</div>

<textarea id="t5" placeholder="Schrijf minstens twee verschillen."></textarea>
<button onclick="checkText('t5','task5','task6',2)">Controleer</button>
<div class="feedback"></div>
</div>


<!-- OPDRACHT 6 -->
<div class="task hidden" id="task6">
<h2>Opdracht 6 ‚Äì Besluit</h2>
<p>
Kijk opnieuw naar het oudste en het meest recente beeld.
Zijn de veranderingen in dit landschap vooral het gevolg van
<strong>menselijke ingrepen</strong> of van <strong>natuurlijke processen</strong>?
Leg je antwoord uit.
</p>

<div class="image-strip">
  <img src="img/images/basel_2006.jpg" alt="Oudere situatie">
  <img src="img/images/basel_2024.jpg" alt="Recente situatie">
</div>

<textarea id="t6" placeholder="Geef een beargumenteerd besluit."></textarea>
<button onclick="finish()">Unit afronden</button>
</div>

<!-- EINDSCHERM -->
<div class="task hidden" id="endScreen">
  <h2>üéâ Unit voltooid!</h2>
  <p>Je hebt deze unit afgerond.</p>
  <p><strong>Behaalde XP:</strong> <span id="xpScore">0</span></p>

  <div class="nav-buttons" style="text-align:center; margin-top:2rem;">
    <!-- unit-navigation.js vult dit automatisch aan -->
  </div>
</div>


<script>
let dragged = null;
let xp = 0;

document.querySelectorAll('.drag-card').forEach(c =>
  c.addEventListener('dragstart', () => dragged = c)
);
document.querySelectorAll('.drop-zone').forEach(z => {
  z.addEventListener('dragover', e => e.preventDefault());
  z.addEventListener('drop', () => z.appendChild(dragged));
});

/* OPDRACHT 1 */
function checkTask1() {
  const correct = ["2006","2015","2017","2024"];
  let score = 0;

  document.querySelectorAll('.drop-zone').forEach((z,i) => {
    if (z.children[0]?.querySelector('img')?.src.includes(correct[i])) score++;
  });

  const gained = score === 4 ? 5 : score === 3 ? 4 : score === 2 ? 2 : score === 1 ? 1 : 0;
  xp += gained;

  document.getElementById('fb1').textContent =
    `${score}/4 juist ‚Üí +${gained} XP`;
  document.getElementById('fb1').className = "feedback success";

  document.getElementById('task2').classList.remove('hidden');
}

/* TEKST */
function checkText(id,current,next,maxXP) {
  const len = document.getElementById(id).value.trim().length;
  const gained = len >= 40 ? maxXP : len >= 20 ? maxXP - 1 : 0;
  xp += gained;

  document.querySelector(`#${current} .feedback`).textContent =
    `Antwoord ontvangen ‚Üí +${gained} XP`;
  document.getElementById(next).classList.remove('hidden');
}

/* ATLAS */
function checkAtlas() {
  const answers = {
    a1:["basel"],
    a2:["zwitserland","switzerland"],
    a3:["frankrijk","france","duitsland","germany"],
    a4:["frankrijk","france","duitsland","germany"],
    a5:["rijn","rhine"]
  };

  let correct = 0;
  for (let id in answers) {
    const val = document.getElementById(id).value.toLowerCase();
    if (answers[id].some(a => val.includes(a))) correct++;
  }

  xp += correct;
  document.getElementById('fb4').textContent =
    `${correct}/5 correct ‚Üí +${correct} XP`;

  document.getElementById('task5').classList.remove('hidden');
}

function unlock(cur,next,pts) {
  xp += pts;
  document.getElementById(next).classList.remove('hidden');
}

function finish() {
  localStorage.setItem("thema1unit3_done","true");
  localStorage.setItem("xp_thema1_unit3",xp);

  document.getElementById("xpScore").textContent = xp;

  // verberg laatste opdracht
  document.getElementById("task6").classList.add("hidden");

  // toon eindscherm
  document.getElementById("endScreen").classList.remove("hidden");

}
</script>

<script src="./unit-navigation.js"></script>

</body>
</html>
