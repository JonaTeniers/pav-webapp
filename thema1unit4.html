<!DOCTYPE html>
<html lang="nl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Thema 1 – Doel 4: Soorten landschappen</title>

<style>
body {
  font-family: 'Segoe UI', sans-serif;
  background: #eef3fb;
  padding: 2rem;
}
h1 { text-align: center; color: #1a237e; }
.unit { max-width: 1100px; margin: auto; }
.task {
  background: white;
  padding: 2rem;
  margin-bottom: 2.5rem;
  border-radius: 14px;
  box-shadow: 0 4px 12px rgba(0,0,0,0.1);
}
.hidden { display: none; }
.instruction {
  background: #e8eaf6;
  padding: 1rem;
  border-left: 5px solid #1a237e;
  margin-bottom: 1rem;
}
.image-center img {
  max-width: 420px;
  width: 100%;
  border-radius: 10px;
  display: block;
  margin: 1rem auto;
}
.drag-area {
  display: flex;
  gap: 0.8rem;
  flex-wrap: wrap;
}
.drag-item {
  padding: 0.5rem 0.8rem;
  background: #e8eaf6;
  border-radius: 6px;
  cursor: grab;
}
.drop-wrap {
  display: flex;
  gap: 2rem;
  margin-top: 1rem;
}
.drop-zone {
  flex: 1;
  border: 2px dashed #1a237e;
  padding: 1rem;
  min-height: 160px;
  border-radius: 10px;
}
textarea, input[type="text"] {
  width: 100%;
  padding: 0.6rem;
  margin-top: 0.6rem;
}
button {
  margin-top: 1rem;
  padding: 0.6rem 1.4rem;
  background: #1a237e;
  color: white;
  border: none;
  border-radius: 8px;
  cursor: pointer;
}
.feedback { margin-top: 1rem; font-weight: bold; }
.success { color: #2e7d32; }
.error { color: #c62828; }
table { width: 100%; border-collapse: collapse; }
td { padding: 0.4rem; }
</style>
</head>

<body>

<h1>Thema 1 – Doel 4: Soorten landschappen</h1>

<div class="unit">

<!-- OEFENINGEN (ONVERANDERD) -->
<!-- Alles blijft exact zoals jij het stuurde -->

<!-- OEFENING 1 -->
<div class="task" id="t1">
<h2>Oefening 1 – Landschapsvormende lagen</h2>
<div class="instruction">
<p>
Sleep elk element naar de juiste laag:
<ul>
<li>natuurlijke laag</li>
<li>menselijke laag</li>
</ul>
</p>
</div>

<div class="drag-area">
  <div class="drag-item" draggable="true">Rivier</div>
  <div class="drag-item" draggable="true">Bos</div>
  <div class="drag-item" draggable="true">Bodem</div>
  <div class="drag-item" draggable="true">Woningen</div>
  <div class="drag-item" draggable="true">Wegen</div>
  <div class="drag-item" draggable="true">Fabrieken</div>
  <div class="drag-item" draggable="true">Akker</div>
  <div class="drag-item" draggable="true">Spoorlijn</div>
</div>

<div class="drop-wrap">
  <div>
    <h4>Natuurlijke laag</h4>
    <div class="drop-zone" id="nat"></div>
  </div>
  <div>
    <h4>Menselijke laag</h4>
    <div class="drop-zone" id="mens"></div>
  </div>
</div>

<button onclick="check1()">Controleer</button>
<div class="feedback" id="fb1"></div>
</div>

<!-- OEF 2 -->
<div class="task hidden" id="t2">
<h2>Oefening 2 – Welk soort landschap?</h2>

<div class="image-center">
  <img src="img/images/landschap_stad.jpg">
</div>

<label><input type="radio" name="ls" value="stedelijk"> stedelijk landschap</label><br>
<label><input type="radio" name="ls" value="landelijk"> landelijk landschap</label><br>
<label><input type="radio" name="ls" value="industrieel"> industrieel landschap</label><br>
<label><input type="radio" name="ls" value="natuurlijk"> natuurlijk landschap</label><br>

<button onclick="check2()">Controleer</button>
<div class="feedback" id="fb2"></div>
</div>

<!-- OEF 3 -->
<div class="task hidden" id="t3">
<h2>Oefening 3 – Tabel invullen</h2>
<table>
<tr><td>Bos</td><td><input id="e1"></td><td><input id="l1"></td></tr>
<tr><td>Spoorlijn</td><td><input id="e2"></td><td><input id="l2"></td></tr>
<tr><td>Rivier</td><td><input id="e3"></td><td><input id="l3"></td></tr>
<tr><td>Woonwijk</td><td><input id="e4"></td><td><input id="l4"></td></tr>
</table>
<button onclick="check3()">Controleer</button>
<div class="feedback" id="fb3"></div>
</div>

<!-- OEF 4 -->
<div class="task hidden" id="t4">
<h2>Oefening 4 – Menselijke en natuurlijke elementen</h2>

<div class="drag-area">
  <div class="drag-item" draggable="true">Snelweg</div>
  <div class="drag-item" draggable="true">Rivier</div>
  <div class="drag-item" draggable="true">Windmolen</div>
  <div class="drag-item" draggable="true">Bos</div>
  <div class="drag-item" draggable="true">Kanaal</div>
  <div class="drag-item" draggable="true">Fabriek</div>
  <div class="drag-item" draggable="true">Park</div>
  <div class="drag-item" draggable="true">Berg</div>
</div>

<div class="drop-wrap">
  <div>
    <h4>Natuurlijk</h4>
    <div class="drop-zone" id="nat2"></div>
  </div>
  <div>
    <h4>Menselijk</h4>
    <div class="drop-zone" id="mens2"></div>
  </div>
</div>

<button onclick="check4()">Controleer</button>
<div class="feedback" id="fb4"></div>
</div>

<!-- OEF 5 -->
<div class="task hidden" id="t5">
<h2>Oefening 5 – Relatie tussen mens en natuur</h2>

<div class="image-center">
  <img src="img/images/amazonewoud.jpg">
</div>

<label><input type="radio" name="rel" value="positief"> positief</label><br>
<label><input type="radio" name="rel" value="negatief"> negatief</label><br>

<textarea id="uitleg5"></textarea>
<button onclick="check5()">Controleer</button>
<div class="feedback" id="fb5"></div>
</div>

<!-- OEF 6 -->
<div class="task hidden" id="t6">
<h2>Oefening 6 – Juist of fout</h2>
<label><input type="checkbox" id="s1"> Een stad is ook een landschap.</label><br>
<label><input type="checkbox" id="s2"> Een landschap bestaat alleen uit natuur.</label><br>
<label><input type="checkbox" id="s3"> Landbouw hoort bij een landelijk landschap.</label><br>
<button onclick="check6()">Controleer</button>
<div class="feedback" id="fb6"></div>
</div>

<!-- OEF 7 -->
<div class="task hidden" id="t7">
<h2>Oefening 7 – Invuloefening</h2>
<p>
In een <input id="w1"> landschap zie je vooral <input id="w2">.<br>
In een <input id="w3"> landschap overheersen <input id="w4">.
</p>
<button onclick="check7()">Controleer</button>
<div class="feedback" id="fb7"></div>
</div>

<!-- OEF 8 -->
<div class="task hidden" id="t8">
<h2>Oefening 8 – Besluit</h2>
<textarea id="besluit"></textarea>
<button onclick="finish()">Doel afronden</button>
</div>

<!-- EINDSCHERM -->
<div class="task hidden" id="endScreen">
<h2>Doel afgerond!</h2>
<p>Behaalde XP: <strong><span id="xpScore"></span></strong></p>
<div class="nav-buttons"></div>
</div>

</div>

<script>
let xp = 0;
let dragged = null;

document.querySelectorAll('.drag-item').forEach(i=>{
  i.addEventListener('dragstart',()=>dragged=i);
});
document.querySelectorAll('.drop-zone').forEach(z=>{
  z.addEventListener('dragover',e=>e.preventDefault());
  z.addEventListener('drop',()=>z.appendChild(dragged));
});

function check1(){
  let correct = 0;
  document.querySelectorAll('#nat .drag-item').forEach(i=>{
    if(["Rivier","Bos","Bodem"].includes(i.textContent)) correct++;
  });
  document.querySelectorAll('#mens .drag-item').forEach(i=>{
    if(["Woningen","Wegen","Fabrieken","Akker","Spoorlijn"].includes(i.textContent)) correct++;
  });
  xp += Math.min(correct,4);
  document.getElementById("fb1").textContent = `Score: ${correct}/8`;
  document.getElementById("t2").classList.remove("hidden");
}

function check2(){
  const val = document.querySelector('input[name="ls"]:checked')?.value;
  xp += val==="stedelijk" ? 2 : 1;
  document.getElementById("fb2").textContent = "Antwoord verwerkt.";
  document.getElementById("t3").classList.remove("hidden");
}

function check3(){
  let correct = 0;
  if(e1.value.toLowerCase().includes("natuur")) correct++;
  if(e2.value.toLowerCase().includes("mens")) correct++;
  if(e3.value.toLowerCase().includes("natuur")) correct++;
  if(e4.value.toLowerCase().includes("mens")) correct++;
  xp += Math.min(correct,4);
  document.getElementById("fb3").textContent = `${correct}/4 correct`;
  document.getElementById("t4").classList.remove("hidden");
}

function check4(){
  let total = document.querySelectorAll('#nat2 .drag-item, #mens2 .drag-item').length;
  xp += Math.min(total,3);
  document.getElementById("fb4").textContent = "Gecontroleerd.";
  document.getElementById("t5").classList.remove("hidden");
}

function check5(){
  const r = document.querySelector('input[name="rel"]:checked')?.value;
  xp += (r==="negatief" && uitleg5.value.length>15) ? 2 : 1;
  document.getElementById("fb5").textContent = "Antwoord ontvangen.";
  document.getElementById("t6").classList.remove("hidden");
}

function check6(){
  xp += (s1.checked && !s2.checked && s3.checked) ? 2 : 1;
  document.getElementById("fb6").textContent = "In orde.";
  document.getElementById("t7").classList.remove("hidden");
}

function check7(){
  let c=0;
  if(w1.value.toLowerCase().includes("landelijk")) c++;
  if(w2.value.toLowerCase().includes("akker") || w2.value.toLowerCase().includes("boerderij")) c++;
  if(w3.value.toLowerCase().includes("industrieel")) c++;
  if(w4.value.toLowerCase().includes("mens")) c++;
  xp += Math.min(c,2);
  document.getElementById("fb7").textContent = "Gecontroleerd.";
  document.getElementById("t8").classList.remove("hidden");
}

function finish(){
  if(besluit.value.length>30) xp+=1;

  localStorage.setItem("thema1unit4_done","true");
  localStorage.setItem("xp_thema1_unit4",xp);

  document.getElementById("xpScore").textContent = xp;
  document.getElementById("t8").classList.add("hidden");
  document.getElementById("endScreen").classList.remove("hidden");

  if (typeof awardXP === "function") {
    awardXP(xp);
  }
}
</script>

<!-- FIREBASE -->
<script src="https://www.gstatic.com/firebasejs/10.8.0/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/10.8.0/firebase-auth-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/10.8.0/firebase-firestore-compat.js"></script>

<script src="./firebase.js"></script>
<script src="./pavo-xp-sync.js"></script>
<script src="./unit-navigation.js"></script>

</body>
</html>
