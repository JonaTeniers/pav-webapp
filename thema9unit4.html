<!DOCTYPE html>
<html lang="nl">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Thema 9 ‚Äì Unit 4: Emilie Claeys</title>
  <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Nunito:wght@600;800&display=swap">
  <style>
    body { margin:0; font-family:'Nunito',sans-serif; background:#f5f3ff; color:#1f2937; }
    header { background:#7c3aed; color:#fff; text-align:center; padding:1.2rem; }
    main { width:min(920px,95%); margin:1.2rem auto 2rem; }
    .card { background:#fff; border-radius:14px; box-shadow:0 6px 16px rgba(0,0,0,.08); padding:1.1rem; margin-bottom:1rem; }
    .fragment { background:#faf5ff; border-left:4px solid #7c3aed; padding:0.8rem; border-radius:8px; }
    .helper { color:#4b5563; font-size:.95rem; }
    .question-box { background:#fff; border-radius:14px; box-shadow:0 6px 16px rgba(0,0,0,.08); padding:1.1rem; }
    label { display:block; margin:.5rem 0; }
    button { border:none; background:#6d28d9; color:#fff; border-radius:8px; padding:.6rem 1rem; font-weight:700; cursor:pointer; }
    button:hover { background:#5b21b6; }
    .feedback { margin-top:.75rem; font-weight:700; }
    .success { color:#047857; }
    .error { color:#b91c1c; }
    .hidden { display:none; }
    .text-input, .select-input, textarea { width:100%; border:1px solid #c4b5fd; border-radius:8px; padding:.55rem; font-family:inherit; }
    textarea { min-height:90px; margin-top:.45rem; }
    .nav-buttons { display:flex; gap:.6rem; flex-wrap:wrap; margin-top:1rem; }
  </style>
</head>
<body>
  <header>
    <h1>üèõÔ∏è Thema 9 ‚Äì Unit 4</h1>
    <p>Emilie Claeys</p>
  </header>
  <main>
    <section class="card">
      <h2>Bron en leesopdracht</h2>
      <p>Open de bron van de Canon van Vlaanderen en lees aandachtig.</p>
      <p><a href="https://www.canonvanvlaanderen.be/events/emilie-claeys/" target="_blank" rel="noopener noreferrer">üîó Ga naar de bron: Emilie Claeys</a></p>
      <div class="fragment">
        <strong>Tekstfragment (samengevat):</strong>
        <p>Emilie Claeys streed in de 19de eeuw voor de rechten van vrouwen en arbeiders. Ze vroeg aandacht voor gelijke kansen, betere leefomstandigheden en politieke inspraak. Zo gaf ze mee richting aan sociale verandering in Vlaanderen.</p>
      </div>
      <p class="helper">Koppeling met de reeks: bekijk op VRT MAX <em>Het verhaal van Vlaanderen</em> en zoek het stuk dat bij dit onderwerp past.</p>
      <p><a href="https://www.vrt.be/vrtmax/a-z/het-verhaal-van-vlaanderen/" target="_blank" rel="noopener noreferrer">üé¨ VRT MAX ‚Äì Het verhaal van Vlaanderen</a></p>
    </section>

    <section class="question-box" id="quizBox">
      <h2 id="qCount">Vraag 1 van 5</h2>
      <p class="helper" id="qType"></p>
      <div id="questionText"></div>
      <form id="answerForm"></form>
      <button type="button" onclick="checkAnswer()">Controleer</button>
      <div class="feedback" id="feedback"></div>
      <div class="nav-buttons">
        <button id="nextBtn" class="hidden" type="button" onclick="nextQuestion()">Volgende vraag ‚Üí</button>
      </div>
    </section>

    <section class="card hidden" id="reflectieBox">
      <h2>üß† Reflectie: hoe voel je je bij dit deel van het verhaal?</h2>
      <p>Welke ongelijkheid wilde Emilie Claeys aanpakken? Leg uit in je eigen woorden.</p>
      <textarea id="gevoelInput" placeholder="Schrijf hier je gevoel, wat je begreep, en wat je nog wil vragen..."></textarea>
      <button type="button" onclick="bewaarReflectie()">Bewaar reflectie</button>
      <p class="helper" id="reflectieFeedback"></p>
    </section>

    <section class="question-box hidden" id="endScreen">
      <h2>üéâ Unit voltooid!</h2>
      <p>Je behaalde <span id="xpScore">0</span> XP.</p>
      <p>Je reflectie is bewaard. Goed gewerkt aan jouw deel van <strong>het verhaal van Vlaanderen</strong>.</p>
      <div class="nav-buttons">
        <a href="thema9.html"><button type="button">‚Üê Terug naar thema</button></a>
        <a href="thema9unit5.html"><button type="button">‚Üí Volgende unit</button></a>
      </div>
    </section>
  </main>

  <script>
    const questions = [{'type': 'mc', 'typeLabel': 'Meerkeuze', 'question': 'Waarvoor is Emilie Claeys vooral bekend?', 'options': ['Strijd voor vrouwenrechten en sociale rechten', 'Uitvinden van de trein', 'Invoeren van de euro'], 'correctIndex': 0}, {'type': 'open', 'typeLabel': 'Open vraag', 'question': 'Noem 1 groep waarvoor ze opkwam.', 'accepted': ['vrouwen', 'arbeiders', 'werkende mensen']}, {'type': 'drag', 'typeLabel': 'Selectie', 'question': 'Welke uitspraak klopt het best?', 'options': ['Sociale bewegingen hielpen de samenleving rechtvaardiger maken', 'Sociale bewegingen maakten rechten onbelangrijk', 'Sociale bewegingen gingen enkel over mode'], 'correctValue': 'Sociale bewegingen hielpen de samenleving rechtvaardiger maken'}, {'type': 'mc', 'typeLabel': 'Meerkeuze', 'question': 'Waarom hoort deze unit in het verhaal van Vlaanderen?', 'options': ['Ze toont dat vooruitgang ook strijd voor rechten vraagt', 'Ze heeft niets met Vlaanderen te maken', 'Ze gaat alleen over √©√©n persoon zonder impact'], 'correctIndex': 0}, {'type': 'open', 'typeLabel': 'Open vraag', 'question': 'Welk kernwoord hoort bij Emilie Claeys?', 'accepted': ['emancipatie', 'gelijkheid', 'sociale strijd', 'rechten']}];
    let currentQuestion = 0;
    let score = 0;

    function renderOptions(options, name) {
      return options.map((opt, index) => (`<label><input type="radio" name="${name}" value="${index}"> ${opt}</label>`)).join('');
    }

    function loadQuestion() {
      const q = questions[currentQuestion];
      document.getElementById('qCount').innerText = `Vraag ${currentQuestion + 1} van ${questions.length}`;
      document.getElementById('qType').innerText = q.typeLabel;
      document.getElementById('questionText').innerText = q.question;
      const form = document.getElementById('answerForm');
      form.innerHTML = '';
      if (q.type === 'mc') {
        form.innerHTML = renderOptions(q.options, 'answer');
      } else if (q.type === 'open') {
        form.innerHTML = `<input class="text-input" type="text" name="answer" placeholder="Typ je antwoord...">`;
      } else if (q.type === 'drag') {
        const options = ['Kies...', ...q.options];
        form.innerHTML = `<select class="select-input" name="answer">${options.map((opt) => `<option value="${opt}">${opt}</option>`).join('')}</select>`;
      }
      const feedback = document.getElementById('feedback');
      feedback.innerText = '';
      feedback.className = 'feedback';
      document.getElementById('nextBtn').classList.add('hidden');
    }

    function normalize(value) { return value.trim().toLowerCase(); }

    function checkAnswer() {
      const q = questions[currentQuestion];
      let isCorrect = false;

      if (q.type === 'mc') {
        const selected = document.querySelector('input[name="answer"]:checked');
        if (!selected) return;
        isCorrect = Number(selected.value) === q.correctIndex;
      } else if (q.type === 'open') {
        const input = document.querySelector('input[name="answer"]');
        if (!input || !input.value.trim()) return;
        const normalized = normalize(input.value);
        isCorrect = q.accepted.some((answer) => normalized.includes(normalize(answer)) || normalize(answer).includes(normalized));
      } else if (q.type === 'drag') {
        const selected = document.querySelector('select[name="answer"]');
        if (!selected || selected.value === 'Kies...') return;
        isCorrect = normalize(selected.value) === normalize(q.correctValue);
      }

      const feedback = document.getElementById('feedback');
      if (isCorrect) {
        score += 3;
        feedback.innerText = '‚úÖ Juist! +3 XP';
        feedback.classList.add('success');
      } else {
        feedback.innerText = '‚ùå Nog niet juist. Lees het fragment opnieuw.';
        feedback.classList.add('error');
      }
      document.getElementById('nextBtn').classList.remove('hidden');
    }

    function nextQuestion() {
      currentQuestion++;
      if (currentQuestion < questions.length) {
        loadQuestion();
      } else {
        localStorage.setItem('thema9unit4', score);
        document.getElementById('quizBox').classList.add('hidden');
        document.getElementById('reflectieBox').classList.remove('hidden');
        document.getElementById('endScreen').classList.remove('hidden');
        document.getElementById('xpScore').innerText = score;
      }
    }

    function bewaarReflectie() {
      const txt = document.getElementById('gevoelInput').value.trim();
      if (!txt) return;
      localStorage.setItem('thema9unit4_reflectie', txt);
      document.getElementById('reflectieFeedback').innerText = '‚úÖ Reflectie bewaard.';
    }

    window.onload = loadQuestion;
  </script>
</body>
</html>
