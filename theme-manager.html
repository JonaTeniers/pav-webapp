<!DOCTYPE html>
<html lang="nl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>PAV-O | Theme Manager</title>

<link href="https://fonts.googleapis.com/css2?family=Nunito:wght@400;600;700;800&display=swap" rel="stylesheet">

<style>
:root {
    --primary: #0b4da2;
    --bg: #f0f4f8;
    --white: #ffffff;
    --border: #e2e8f0;
    --text: #1e293b;
}

body {
    margin: 0;
    font-family: 'Nunito', sans-serif;
    background: var(--bg);
    display: flex;
    min-height: 100vh;
}

/* SIDEBAR */
.sidebar {
    width: 260px;
    background: var(--white);
    border-right: 1px solid var(--border);
    padding: 20px;
}

.sidebar h2 {
    color: var(--primary);
    font-weight: 800;
}

.sidebar a {
    display: block;
    text-decoration: none;
    color: var(--text);
    padding: 12px;
    border-radius: 10px;
    margin-bottom: 8px;
    font-weight: 700;
}

.sidebar a:hover,
.sidebar a.active {
    background: #e0f2fe;
    color: var(--primary);
}

/* MAIN LAYOUT */
.main-wrapper {
    flex: 1;
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 30px;
    padding: 40px;
}

/* EDIT PANEL */
.editor {
    background: white;
    padding: 25px;
    border-radius: 16px;
    box-shadow: 0 4px 10px rgba(0,0,0,0.05);
}

.editor h2 {
    margin-top: 0;
}

.editor label {
    font-weight: 700;
    font-size: 0.9rem;
}

.editor input,
.editor textarea,
.editor select {
    width: 100%;
    padding: 10px;
    margin-top: 5px;
    margin-bottom: 15px;
    border-radius: 8px;
    border: 1px solid var(--border);
}

.editor button {
    background: var(--primary);
    color: white;
    padding: 10px 15px;
    border: none;
    border-radius: 8px;
    cursor: pointer;
    font-weight: 700;
}

/* PREVIEW PANEL */
.preview {
    background: white;
    border-radius: 16px;
    overflow: hidden;
    box-shadow: 0 4px 10px rgba(0,0,0,0.05);
}

.preview-header {
    padding: 30px;
    color: white;
}

.preview-header h1 {
    margin: 0;
}

.preview-body {
    padding: 20px;
}

.unit-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
    gap: 15px;
    margin-top: 20px;
}

.unit-card {
    border: 2px solid #ddd;
    border-radius: 12px;
    padding: 15px;
    background: #f9fafb;
}

.unit-card h4 {
    margin: 0 0 5px;
}

.unit-card p {
    font-size: 0.85rem;
    color: #555;
    margin: 0;
}

.image-preview {
    width: 100%;
    height: 180px;
    object-fit: cover;
}
</style>
</head>

<body>

<!-- SIDEBAR -->
<nav class="sidebar">
    <h2>PAV-O</h2>
    <a href="admin.html">ðŸ“Š Resultaten</a>
    <a href="theme-manager.html" class="active">âž• Maak nieuw thema</a>
    <a href="index.html">ðŸšª Leerlingomgeving</a>
</nav>

<!-- MAIN -->
<div class="main-wrapper">

    <!-- EDITOR -->
    <div class="editor">
        <h2>Nieuw Thema</h2>

        <label>Titel</label>
        <input type="text" id="themeTitle" placeholder="Bijv: Thema 10 â€“ Gezondheid">

        <label>Beschrijving</label>
        <textarea id="themeDescription" rows="3" placeholder="Korte uitleg van het thema"></textarea>

        <label>Thema kleur</label>
        <input type="color" id="themeColor" value="#0b4da2">

        <label>Afbeelding</label>
        <input type="file" id="themeImage" accept="image/*">

        <hr>

        <h3>Units</h3>
        <div id="unitInputs"></div>
        <button onclick="addUnit()">âž• Unit toevoegen</button>
    </div>

    <!-- PREVIEW -->
    <div class="preview">
        <div id="previewHeader" class="preview-header" style="background:#0b4da2;">
            <h1 id="previewTitle">Thema titel</h1>
            <p id="previewDescription">Beschrijving van het thema</p>
        </div>

        <img id="previewImage" class="image-preview" style="display:none;">

        <div class="preview-body">
            <h3>Units</h3>
            <div id="previewUnits" class="unit-grid"></div>
        </div>
    </div>

</div>

<script>
let unitCount = 0;
const maxUnits = 12;

function updatePreview() {
    document.getElementById("previewTitle").innerText =
        document.getElementById("themeTitle").value || "Thema titel";

    document.getElementById("previewDescription").innerText =
        document.getElementById("themeDescription").value || "Beschrijving van het thema";

    const color = document.getElementById("themeColor").value;
    document.getElementById("previewHeader").style.background = color;
}

document.getElementById("themeTitle").addEventListener("input", updatePreview);
document.getElementById("themeDescription").addEventListener("input", updatePreview);
document.getElementById("themeColor").addEventListener("input", updatePreview);

document.getElementById("themeImage").addEventListener("change", function(e) {
    const reader = new FileReader();
    reader.onload = function(event) {
        const img = document.getElementById("previewImage");
        img.src = event.target.result;
        img.style.display = "block";
    }
    reader.readAsDataURL(e.target.files[0]);
});

function addUnit() {
    if (unitCount >= maxUnits) {
        alert("Maximaal 12 units toegestaan.");
        return;
    }

    unitCount++;

    const container = document.getElementById("unitInputs");
    const preview = document.getElementById("previewUnits");

    const div = document.createElement("div");
    div.innerHTML = `
        <label>Unit ${unitCount} titel</label>
        <input type="text" oninput="updateUnits()" data-unit="${unitCount}">
    `;
    container.appendChild(div);

    updateUnits();
}

function updateUnits() {
    const preview = document.getElementById("previewUnits");
    preview.innerHTML = "";

    const inputs = document.querySelectorAll("[data-unit]");
    inputs.forEach((input, index) => {
        const title = input.value || "Unit " + (index + 1);

        const card = document.createElement("div");
        card.className = "unit-card";
        card.innerHTML = `
            <h4>${title}</h4>
            <p>Korte uitleg van deze unit</p>
        `;
        preview.appendChild(card);
    });
}
</script>

</body>
</html>
